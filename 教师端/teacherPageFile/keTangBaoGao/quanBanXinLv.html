<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <script src="../../js/flexible/flexible_css.js"></script>
    <script src="../../js/flexible/flexible.js"></script>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/icon.css">
    <script src="../../js/jquery.js"></script>
    <script src="../../js/main.js"></script>
    <script src="../../js/echart/echart.js"></script>
    <title>动跃科技</title>
</head>

<body flex="dir:top">
    <header class="kc-header" flex-box="0" flex="dir:left" font="18">
        <a href="javascript:history.go(-1)" flex-box="0">
            <i class="icon-back"></i>
        </a>
        <div class="title" flex-box="1" font="14">全班学生心率数据</div>
        <a href="javascript:void(0)" flex-box="0">
            <!-- <i class="icon-bzzy"></i> -->
        </a>
    </header>
    <section flex-box="1" class="white-back">
        <div class="quanban-title">
            <div class="text active">全部</div>
            <div class="text">高水平</div>
            <div class="text">中水平</div>
            <div class="text">低水平</div>
            <div class="text">特殊</div>
        </div>
        <!-- 详情列表 -->
        <div class="xinlvyichang quanban fixed-title">
            <!--标题 -->
            <div class="content-list clearfix " flex="">
                <div class="num">

                </div>
                <div class="name">
                    姓名
                </div>
                <div class="bushu">
                    步数
                </div>
                <div class="cal">
                    卡路里(cal)
                </div>
                <div class="xintiao-title">
                    心跳(bpm)
                </div>
            </div>


            <!--男 一条数据 开始-->
            <div class="content-list level-one clearfix">
                <div class="num">
                    1
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
                <div class="bushu">
                    294857步
                </div>
                <div class="cal">
                    348523cal
                </div>
                <div class="xintiao">
                    180bpm
                    <i class="icon-up"></i>
                </div>
            </div>
            <!-- 男 一条数据 详细心率 -->
            <div class="detail">
                <div class="de-title" flex="box:mean">
                    <div>
                        <h1>60</h1>
                        <h5>最高心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>平均心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>最低心率</h5>
                    </div>
                </div>
                <div class="de-chart">
                    折线图
                </div>
            </div>
            <!--男 一条数据 结束-->

            <!--女 一条数据 -->
            <div class="content-list clearfix">
                <div class="num">
                    2
                </div>
                <div class="name">
                    <i class="icon-nv"></i>
                    张铭嘉
                </div>
                <div class="bushu">
                    294857步
                </div>
                <div class="cal">
                    348523cal
                </div>
                <div class="xintiao">
                    140bpm
                    <i class="icon-up"></i>
                </div>
            </div>
            <!-- 女 一条数据 详细心率 -->
            <div class="detail">
                <div class="de-title" flex="box:mean">
                    <div>
                        <h1>60</h1>
                        <h5>最高心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>平均心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>最低心率</h5>
                    </div>
                </div>
                <div class="de-chart">
                    折线图
                </div>
            </div>
            <!--女 一条数据 结束 -->

            <!--男 一条数据 开始-->
            <div class="content-list clearfix">
                <div class="num">
                3
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
                <div class="bushu">
                    294857步
                </div>
                <div class="cal">
                    348523cal
                </div>
                <div class="xintiao">
                    100bpm
                    <i class="icon-up"></i>
                </div>
            </div>
            <!-- 男 一条数据 详细心率 -->
            <div class="detail">
                <div class="de-title" flex="box:mean">
                    <div>
                        <h1>60</h1>
                        <h5>最高心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>平均心率</h5>
                    </div>
                    <div>
                        <h1>20</h1>
                        <h5>最低心率</h5>
                    </div>
                </div>
                <div class="de-chart">
                    折线图
                </div>
            </div>
            <!--男 一条数据 结束-->

            <!--男 一条数据 开始-->
            <div class="content-list clearfix">
                <div class="num">
                3
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
                <div class="bushu">
                    294857步
                </div>
                <div class="cal">
                    348523cal
                </div>
                <div class="xintiao">
                    80bpm
                    <i class="icon-up"></i>
                </div>
            </div>
            <!-- 男 一条数据 详细心率 -->
            <div class="detail">
                <div class="de-title" flex="box:mean">
                    <div>
                        <h1>60</h1>
                        <h5>最高心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>平均心率</h5>
                    </div>
                    <div>
                        <h1>20</h1>
                        <h5>最低心率</h5>
                    </div>
                </div>
                <div class="de-chart">
                    折线图
                </div>
            </div>
            <!--男 一条数据 结束-->

            <!--男 一条数据 开始-->
            <div class="content-list clearfix">
                <div class="num">
                3
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
                <div class="bushu">
                    294857步
                </div>
                <div class="cal">
                    348523cal
                </div>
                <div class="xintiao">
                    80bpm
                    <i class="icon-up"></i>
                </div>
            </div>
            <!-- 男 一条数据 详细心率 -->
            <div class="detail">
                <div class="de-title" flex="box:mean">
                    <div>
                        <h1>60</h1>
                        <h5>最高心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>平均心率</h5>
                    </div>
                    <div>
                        <h1>20</h1>
                        <h5>最低心率</h5>
                    </div>
                </div>
                <div class="de-chart">
                    折线图
                </div>
            </div>
            <!--男 一条数据 结束-->

            <!--男 一条数据 开始-->
            <div class="content-list clearfix">
                <div class="num">
                3
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
                <div class="bushu">
                    294857步
                </div>
                <div class="cal">
                    348523cal
                </div>
                <div class="xintiao">
                    60bpm
                    <i class="icon-up"></i>
                </div>
            </div>
            <!-- 男 一条数据 详细心率 -->
            <div class="detail">
                <div class="de-title" flex="box:mean">
                    <div>
                        <h1>60</h1>
                        <h5>最高心率</h5>
                    </div>
                    <div>
                        <h1>60</h1>
                        <h5>平均心率</h5>
                    </div>
                    <div>
                        <h1>20</h1>
                        <h5>最低心率</h5>
                    </div>
                </div>
                <div class="de-chart">
                    折线图
                </div>
            </div>
            <!--男 一条数据 结束-->

        </div>

        <!-- 未使用设备学生名单 -->
        <div class="xinlvyichang quanban fixed-title">
            <!--标题 -->
            <div class="gray-content">
                
            </div>
            <div class="content-list clearfix " flex="">
                未使用设备学生名单(或为0)3人
            </div>
            <!--男 一条数据 开始-->
            <div class="content-list clearfix">
                <div class="num">
                    1
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
            </div>
            <!--男 一条数据 结束-->
            <!--女 一条数据 -->
            <div class="content-list clearfix">
                <div class="num">
                    2
                </div>
                <div class="name">
                    <i class="icon-nv"></i>
                    张铭嘉
                </div>
            </div>
            <!--女 一条数据 结束 -->
            <!--男 一条数据 开始-->
            <div class="content-list clearfix">
                <div class="num">
                3
                </div>
                <div class="name">
                    <i class="icon-by"></i>
                    张铭嘉
                </div>
            </div>
            <!--男 一条数据 结束-->
        </div>
        <!-- 未使用设备学生名单 结束 -->
    </section>
    <footer flex-box="0" flex="dir:left box:mean" font="12">
        <a href="" flex="main:center dir:top">
            <i class="icon-sy" font="24"></i>
            <span>首页</span>
        </a>
        <a href="" flex="main:center dir:top">
            <i class="icon-xsq" font="24"></i>
            <span>学生圈</span>
        </a>
        <a href="" flex="main:center dir:top">
            <i class="icon-wode" font="24"></i>
            <span>我的</span>
        </a>
    </footer>
    <script src="../../js/each/keTangChart.js"></script>
    <script>
        //根据心率添加颜色
        var stu = $($('.quanban')[0]).find('.content-list .xintiao');
        var levelEle = '<div class="level"></div>';
        stu.each(function(){
            var thisXinTiao = $(this)[0].innerText.split('bpm')[0];
            if(thisXinTiao >=1 && thisXinTiao <= 79){
                $(this).parent().append($(levelEle).addClass('five'));
            }else if(thisXinTiao >= 80 && thisXinTiao <= 99){
                $(this).parent().append($(levelEle).addClass('four'));
            }else if(thisXinTiao >= 100 && thisXinTiao <= 119){
                $(this).parent().append($(levelEle).addClass('three'));
            }else if(thisXinTiao >= 120 && thisXinTiao <= 149){
                $(this).parent().append($(levelEle).addClass('two'));
            }else if(thisXinTiao >= 150 ){
                $(this).parent().append($(levelEle).addClass('one'));
            }
        });


        $('.quanban-title .text').click(function(){
            $(this).addClass('active').siblings().removeClass('active');
        })
        $('.xintiao').click(function () {
            var target = $(this).parent().next();
            if (target.hasClass('active')) {
                // 收起折线图
                target.animate({
                    'height': '0'
                }).removeClass('active');
            } else {
                // 打开折线图
                target.find('.de-chart').attr('id', 'chart-here'); //为点击处chart添加id
                Chart.line({
                    element: 'chart-here',
                    title: '',
                    xAxis: [1, 2, 3, 4, 5, 6, 7, 8, 9],
                    yAxis: ['0', '20%', '40%', '60%', '80%'],
                    data: [{
                            name: '心率曲线',
                            type: 'line',
                            smooth: true,
                            data: [70,80, 90, 100, 130, 140, 160, 150, 120],
                        }
                    ]
                });
                target.animate({
                    'height': '7.14667rem'
                }).addClass('active'); //展现chart
                target.siblings().animate({
                    'height': '0'
                }).removeClass('active').find('.de-chart').attr('id', '');
            }
        })

    </script>
</body>

</html>
