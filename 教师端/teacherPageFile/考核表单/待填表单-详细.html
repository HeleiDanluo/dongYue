<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <script src="../../js/flexible/flexible_css.js"></script>
    <script src="../../js/flexible/flexible.js"></script>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/icon.css">
    <script src="../../js/jquery.js"></script>
    <script src="../../js/main.js"></script>
    <title>动跃科技</title>
</head>
<body flex="dir:top">
<header class="kc-header" flex-box="0" flex="dir:left" font="18">
    <a href="javascript:history.go(-1)" flex-box="0">
        <i class="icon-back"></i>
    </a>
    <div class="title" flex-box="2" font="14"><a href="#">考核表单</a></div>
    <a href="javascript:void(0)" flex-box="0">
    </a>
</header>
<section flex-box="1" class="keChengJiLu">
    <div class="white-back kc-content" style="margin-top:0">

        <!-- 班级列表 -->
        <div class="kaohebiaodan-class-list-box">
            <div class="class-box">
            <!-- 一个班级 -->
                <div class="class-item mid-center active">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
                <!-- 一个班级 -->
                <div class="class-item mid-center">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
                <!-- 一个班级 -->
                <div class="class-item mid-center">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
                <!-- 一个班级 -->
                <div class="class-item mid-center">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
                <!-- 一个班级 -->
                <div class="class-item mid-center">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
                <!-- 一个班级 -->
                <div class="class-item mid-center">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
                <!-- 一个班级 -->
                <div class="class-item mid-center">
                    <p>初一</p>
                    <p>（1）班</p>
                </div>
            </div>
        </div>

        <!-- 问题列表 -->
        <div class="kaohebiaodan-wenti-list-box">
            <!-- 一个问题 -->
            <div class="wenti-box">
                <h3>1. 问题一标题问题一标题问题一标题（可多选）</h3>
                <ul class="mult-choose">
                    <li class="wenti-item active">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                        <div class="opts-box" flex="box:mean">
                            <div class="jian">-</div>
                            <!-- add-val 是PC端设置的值，每次累加的值 -->
                            <div  class="value-box" add-count="0" add-val="0.5">0</div>
                            <div class="jia">+</div>
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                        <div class="opts-box" flex="box:mean">
                            <div class="jian">-</div>
                            <div class="value-box" add-count="0" add-val="0.1">0</div>
                            <div class="jia">+</div>
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                        <div class="opts-box" flex="box:mean">
                            <div class="jian">-</div>
                            <div  class="value-box" add-count="0" add-val="0.2">0</div>
                            <div class="jia">+</div>
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                        <div class="opts-box" flex="box:mean">
                            <div class="jian">-</div>
                            <div  class="value-box" add-count="0" add-val="0.3">0</div>
                            <div class="jia">+</div>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- 一个问题 -->
            <div class="wenti-box">
                <h3 class="require">2. 问题一标题问题一标题问题一标题（单选）</h3>
                <ul>
                    <li class="wenti-item active">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                </ul>
            </div>
            <!-- 一个问题 -->
            <div class="wenti-box">
                <h3 class="require">3. 问题一标题问题一标题问题一标题（可选）</h3>
                <ul>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                    <li class="wenti-item">
                        <div class="wenti-text">
                            问题1-选项一
                        </div>
                    </li>
                </ul>
            </div>


        </div>

        <!-- 提交按钮 -->
        <div class="daitianbiaodan-btn-box" flex="box:mean">
            <a href="javascript:;" class="btn-full-theme mid-center">保存</a>
            <a href="javascript:;" class="btn-full-theme mid-center">提交</a>
        </div>
        
    </div>
</section>
<footer flex-box="0" flex="dir:left box:mean" font="12">
    <a href="" flex="main:center dir:top">
        <i class="icon-sy" font="24"></i>
        <span>首页</span>
    </a>
    <a href="" flex="main:center dir:top">
        <i class="icon-xsq" font="24"></i>
        <span>学生圈</span>
    </a>
    <a href="" flex="main:center dir:top">
        <i class="icon-wode" font="24"></i>
        <span>我的</span>
    </a>
</footer>
<script>
    //必选是否选择验证
    requireChecke();
    function requireChecke() {
        let requireArr = $('.require');
        requireArr.each(function(index, item) {
            let activeLen = $(item).siblings().find('.active').length;
            if(activeLen <=0 ) {
                $.warning({words: "没选完"});
            } else {
                // 选完了
            }
        })
    }
    // 选择顶部班级
    $('body').on('click', '.class-item', function() {
        if($(this).hasClass('active')){
            $(this).removeClass('active');
        } else {
            $(this).addClass('active').siblings().removeClass('active');
        }
    })

    // 选择问题
    $('body').on('click', '.wenti-text', function() {
        let _this = $(this).parent();
        if(_this.hasClass('active')){
            _this.removeClass('active');
        } else {
            if(_this.parent().hasClass('mult-choose')) {
                // _this.addClass('active');
            } else {
                _this.addClass('active').siblings().removeClass('active');
            }
        }
    })

    // 点击加减
    $('body').on('click', '.opts-box>div', function() {

        let addValBox = $(this).parent().find('.value-box');
        let addVal = +addValBox.attr('add-val');// 每次的累加值
        let addCount = +addValBox.attr('add-count');// 点击统计
        let currentVal = +addValBox.html();

        if($(this).hasClass('jian')){
            // 减
            if(addCount > 0) {
                addCount--;
                addValBox.html((currentVal * 10 - addVal *10)/10)
                .attr('add-count', addCount);
            }
        } else if($(this).hasClass('jia')){
            // 加
            addCount++;
            addValBox.html((currentVal * 10 + addVal *10)/10)
                     .attr('add-count', addCount);;
        }
    })
</script>
</body>
</html>